import{i as y,g as x,j as g,u as w,o,c as r,F as p,d as h,b as s,t as m,a as b,w as D,e as M,_ as k}from"./entry.ddc4d3c3.js";import{u as v,q as A}from"./query.4b43ce8e.js";import"./preview.03a1ec7f.js";const Y={class:"mt-8"},S=s("h1",{class:"text-3xl font-bold"},"Son Gönderiler",-1),C={class:"text-2xl font-bold"},F={class:"space-y-2"},B={class:"line-clamp-1"},E={class:"flex-shrink-0 pl-4 text-xs"},d="Son Gönderiler",u="Emir Kabal tarafından yazılan son gönderileri okuyun.",G=y({__name:"index",async setup(N){let l,_;const{data:i}=([l,_]=x(()=>v("posts",()=>A("blog").limit(4).sort({createdAt:-1}).only(["title","createdAt","_path"]).find())),l=await l,_(),l),f=g(()=>i.value?i.value.map(t=>{const e=new Date(t.createdAt);return{month:e.getMonth(),year:e.getFullYear()}}).filter((t,e,a)=>a.findIndex(n=>n.month===t.month&&n.year===t.year)===e).map(t=>({date:new Date(t.year,t.month),posts:i.value?i.value.filter(e=>{const a=new Date(e.createdAt);return a.getMonth()===t.month&&a.getFullYear()===t.year}):[]})):[]);return w({titleTemplate:"%s - Emir Kabal",title:d,ogTitle:d,ogUrl:"https://emirkabal.com/blog",twitterTitle:d,description:u,ogDescription:u,twitterDescription:u}),(c,t)=>{const e=k;return o(),r("main",Y,[S,(o(!0),r(p,null,h(M(f),a=>(o(),r("div",{class:"my-12 space-y-4",key:a.date.toString()},[s("h2",C,m(c.$moment(a.date).locale("tr").format("MMMM YYYY")),1),s("ul",F,[(o(!0),r(p,null,h(a.posts,n=>(o(),r("li",{key:n._path},[b(e,{to:n._path,class:"flex w-full min-w-0 items-center justify-between rounded border border-gray-700 px-4 py-2 text-xl font-semibold text-gray-300 transition-colors hover:border-white hover:text-white"},{default:D(()=>[s("h3",B,m(n.title),1),s("time",E,m(c.$moment(n.createdAt).locale("tr").format("DD MMM")),1)]),_:2},1032,["to"])]))),128))])]))),128))])}}});export{G as default};
